#### **ğŸ‘‰Algorithm**

ã€LeetCodeç¬¬åäºŒé¢˜ï¼šæ•´æ•°è½¬ç½—é©¬æ•°å­—ã€‘
ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦ï¼š Iï¼Œ Vï¼Œ Xï¼Œ Lï¼ŒCï¼ŒD å’Œ Mã€‚

| å­—ç¬¦ | æ•°å€¼ |
| ---- | ---- |
| I    | 1    |
| V    | 5    |
| X    | 10   |
| L    | 50   |
| C    | 100  |
| D    | 500  |
| M    | 1000 |

ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åšÂ IIÂ ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åšÂ XIIÂ ï¼Œå³ä¸ºÂ XÂ +Â IIÂ ã€‚ 27 å†™åšÂ Â XXVII, å³ä¸ºÂ XXÂ +Â VÂ +Â IIÂ ã€‚
é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åšÂ IIIIï¼Œè€Œæ˜¯Â IVã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸ºÂ IXã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š

- IÂ å¯ä»¥æ”¾åœ¨Â VÂ (5) å’ŒÂ XÂ (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
-  XÂ å¯ä»¥æ”¾åœ¨Â LÂ (50) å’ŒÂ CÂ (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’ŒÂ 90ã€‚Â 
-  CÂ å¯ä»¥æ”¾åœ¨Â DÂ (500) å’ŒÂ MÂ (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤ºÂ 400 å’ŒÂ 900ã€‚

ç»™å®šä¸€ä¸ªæ•´æ•°ï¼Œå°†å…¶è½¬ä¸ºç½—é©¬æ•°å­—ã€‚è¾“å…¥ç¡®ä¿åœ¨ 1 åˆ° 3999 çš„èŒƒå›´å†…ã€‚

ç¤ºä¾‹ 1:
 	è¾“å…¥: 3
 	è¾“å‡º: "III"

ç¤ºä¾‹ 2:
	è¾“å…¥: 4
	è¾“å‡º: "IV"

ç¤ºä¾‹ 3:
	è¾“å…¥: 9
	è¾“å‡º: "IX"

ç¤ºä¾‹ 4:
	è¾“å…¥: 58
	è¾“å‡º: "LVIII"
	è§£é‡Š: L = 50, V = 5, III = 3.
	
ç¤ºä¾‹ 5:
	è¾“å…¥: 1994
	è¾“å‡º: "MCMXCIV"
	è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.

```java
class Solution{
    static String intToRoman(int num) {
        final int[] radix = {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1};
        final String[] symbol = {"M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"};
        StringBuilder roman = new StringBuilder();
        for (int i = 0; num > 0; i++) {
            int count = num / radix[i];
            num %= radix[i];
            for (; count > 0; count--) {
                roman.append(symbol[i]);
            }
        }
        return roman.toString();
    }
}
```

ã€LeetCodeç¬¬åä¸‰é¢˜ï¼šç½—é©¬æ•°å­—è½¬æ•´æ•°ã€‘

ç»™å®šä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°ã€‚è¾“å…¥ç¡®ä¿åœ¨ 1 åˆ° 3999 çš„èŒƒå›´å†…ã€‚

```java
class Solution {

    private static Map<Character, Integer> map;

    static {
        map = new HashMap<>();
        map.put('M', 1000);
        map.put('D', 500);
        map.put('C', 100);
        map.put('L', 50);
        map.put('X', 10);
        map.put('V', 5);
        map.put('I', 1);
    }

    static int romanToInt(String s) {
        int result = 0;
        for (int i = 0; i < s.length(); i++) {
            if (i > 0 && map.get(s.charAt(i)) > map.get(s.charAt(i - 1))) {
                result += (map.get(s.charAt(i)) - 2 * map.get(s.charAt(i - 1)));
            } else {
                result += map.get(s.charAt(i));
            }
        }
        return result;
    }
}
```




#### **ğŸ‘‰Review**

ğŸ’¦ From : https://97-things-every-x-should-know.gitbooks.io/97-things-every-programmer-should-know/content/en/thing_03/

â€‹	å½“æˆ‘ä»¬æœ€åˆè®¾è®¡æŸä¸ªè½¯ä»¶æ—¶ï¼Œå¯¹äºè¿™ä¸ªæœªè¯ç”Ÿçš„è½¯ä»¶ï¼Œæˆ‘ä»¬åªæ˜¯æœ‰ä¸€ä¸ªå¤§æ¦‚çš„ä¸­å¿ƒæ€æƒ³ï¼Œä¸ºäº†èƒ½æ›´å¥½çš„è®¾è®¡å‡ºç”¨æˆ·éœ€è¦çš„è½¯ä»¶ï¼Œä¹Ÿå°±æ˜¯è®©æˆ‘ä»¬çš„è½¯ä»¶æ›´å…·æœ‰äººæ€§åŒ–çš„è®¾è®¡ã€‚æœ€ç›´æ¥çš„æ–¹æ³•ï¼Œå°±æ˜¯ç›´æ¥è®©ç”¨æˆ·ä½¿ç”¨åŒç±»å‹çš„å…¶ä»–è½¯ä»¶ï¼Œè€Œæˆ‘ä»¬ç›´æ¥è§‚çœ‹ç”¨æˆ·çš„ä½¿ç”¨æµç¨‹ã€‚åœ¨ç”¨æˆ·ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸è¿›è¡Œä»»ä½•çš„æç¤ºå’Œå¸®åŠ©ã€‚å¦‚æœæ²¡æœ‰åŒç±»å‹çš„è½¯ä»¶å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥éè®¿å¤šä¸ªç”¨æˆ·ï¼Œå‘ä»–ä»¬è¡¨è¿°æˆ‘ä»¬æƒ³è¦å®ç°çš„ä¸œè¥¿ï¼Œé€šè¿‡ç›´æ¥æ²Ÿé€šçš„æ–¹å¼ï¼Œå€¾å¬åœ¨ä»–ä»¬å¿ƒé‡Œï¼Œå¦‚æœè¿™æ ·çš„ä¸€ä¸ªä¸œè¥¿å­˜åœ¨ï¼Œæ€æ ·çš„å­˜åœ¨å½¢å¼æ‰èƒ½æ›´å—æ¬¢è¿ã€‚

   è¿™ä¸€æ­¥å…¶å®æ˜¯å¾ˆå¿…è¦çš„ï¼Œä¹Ÿæ˜¯å¾ˆè‡³å…³é‡è¦çš„ä¸€æ­¥ã€‚å½“ä½ æœ‰äº†ä¸€ä¸ªæƒ³æ³•ä¹‹åï¼Œåƒä¸‡ä¸è¦æ€¥äºä¸Šæ‰‹å¼€å‘ï¼ŒåŠ¨æ‰‹ä¹‹å‰å…ˆæ€è€ƒï¼Œå¦‚æœä½ çš„æƒ³æ³•å¾ˆå¥½ï¼Œä½†æ˜¯æŒ‰ç…§ç¨‹åºå‘˜çš„æ€ç»´åšå‡ºæ¥çš„ä¸œè¥¿ï¼Œå¾ˆå¯èƒ½æ˜¯ä¸ç¬¦åˆå¤§ä¼—æœŸæœ›çš„ã€‚ï¼ˆPSï¼šå¦‚æœä½ è®¾è®¡çš„è½¯ä»¶æ˜¯é¢å‘ç¨‹åºå‘˜çš„è¯ï¼Œé‚£æˆ‘å»ºè®®ä¹Ÿè¦å…ˆè°ƒç ”ä»¥ä¸‹çš„å¥½ï¼Œæ¯•ç«ŸçŒ¿çš„ç§ç±»ä¹Ÿæœ‰å¾ˆå¤šå‘€ï¼ï¼‰

#### **ğŸ‘‰Tip**

åœ¨æ˜é‡‘ä¸Šçœ‹åˆ°çš„å¾ˆæœ‰è¶£çš„ä¸€æ®µä»£ç ï¼š

```java
public class TryAdd {

    private volatile int i = 0;

    private int returnTestOne() {
        try {
            i += 1;
            System.out.println("Inside try block,and i = " + i);
            return i;
        } catch (Exception e) {
            System.out.println("Exception has been caught,and i = " + i);
        } finally {
            System.out.println("before finally block executed,i = " + i);
            i += 1;
            System.out.println("after finally block executed,i = " + i);
        }
        System.out.println("Outside try-catch-finally clause,i = " + i);
        return i;
    }
    public static void main(String[] args) {
        TryAdd test = new TryAdd();
        System.out.println(test.returnTestOne());
    }
}
```

Output:

```
Inside try block,and i = 1
before finally block executed,i = 1
after finally block executed,i = 2
1
```

å’Œè¿™æ®µä»£ç å¯¹æ¯”ï¼š

```
public class TryAdd {

    private volatile int i = 0;

 	private int returnTestTwo() {
        try {
            i += 1;
            System.out.println("Inside try block,and i = " + i);
        } catch (Exception e) {
            System.out.println("Exception has been caught,and i = " + i);
        } finally {
            System.out.println("before finally block executed,i = " + i);
            i += 1;
            System.out.println("after finally block executed,i = " + i);
        }
        System.out.println("Outside try-catch-finally clause,i = " + i);
        return i;
    }

    public static void main(String[] args) {
        TryAdd test = new TryAdd();
        System.out.println(test.returnTestOne());
    }
}
```

Output:

```
Inside try block,and i = 1
before finally block executed,i = 1
after finally block executed,i = 2
Outside try-catch-finally clause,i = 2
2
```

#### **ğŸ‘‰Share**

æœ€è¿‘æ–°æ¥è§¦äº†Swagger2ï¼Œä¸€ä¸ªå¼€æºçš„ç”¨äºä¸ºRESTful é£æ ¼çš„webæœåŠ¡ç”ŸæˆREST APIæ–‡ä»¶çš„é¡¹ç›®ã€‚å¯ç›´æ¥é€šè¿‡åœ¨controllerå±‚çš„æ¥å£ä¸Šå¢åŠ æ³¨è§£çš„æ–¹å¼æ§åˆ¶æ—¥å¿—å†…å®¹ï¼Œå°†åç«¯é¡¹ç›®å’Œapiæ¥å£æ—¥å¿—ç»‘å®šåœ¨ä¸€èµ·ï¼Œä¼˜ç¼ºç‚¹è¿˜æ˜¯å¾ˆæ˜æ˜¾çš„ã€‚

`Spring-boot` é¡¹ç›®é›†æˆ `Swagger2` è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œåªéœ€æ·»åŠ ä¾èµ–ï¼š

```
 <dependency>
  	<groupId>io.springfox</groupId>
 	<artifactId>springfox-swagger2</artifactId>
 	<version>2.9.2</version>
  </dependency>
  
 <dependency>
    <groupId>io.springfox</groupId>
	<artifactId>springfox-swagger-ui</artifactId>
	<version>2.9.2</version>
 </dependency>
```

è¿˜å¯æ·»åŠ  ` swagger-bootstrap-ui` ï¼Œè¿™ä¸ªä¾èµ–å¯ä»¥å¾ˆç›´è§‚çš„apiç•Œé¢ï¼š

```
<dependency>
	<groupId>com.github.xiaoymin</groupId>
	<artifactId>swagger-bootstrap-ui</artifactId>
	<version>1.9.0</version>
</dependency>
```

é…ç½®Configï¼š

```
package com.sun.wxsell.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import springfox.documentation.builders.ApiInfoBuilder;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.service.ApiInfo;
import springfox.documentation.service.Contact;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;


//@Configuration
public class Swagger2Config  {

//    @Bean
    public Docket createRestApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                .select()
                .apis(RequestHandlerSelectors.basePackage("indi.viyoung.viboot.*"))
                .paths(PathSelectors.any())
                .build();
    }

    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                .title("Spring Boot REST API")
                .description("\"String Boot REST API for Online Store\"")
                .termsOfServiceUrl("https://sunchestnut.github.io/GoodGoodStudy/")
                .contact(new Contact("syl", "https://sunchestnut.github.io/GoodGoodStudy/", "sunchestnut@qq.com"))
                .version("1.0")
                .build();
    }
}

```

ï¼ˆæ­¤æ®µä»£ç ä¸­ï¼Œ@Configurationå’Œ@Beanè¿™ä¸¤ä¸ªæ³¨è§£æ˜¯è¢«æ³¨é‡Šæ‰çš„ï¼Œå…·ä½“åŸå› å¯è§ï¼š
https://stackoverflow.com/questions/57392093/added-comment-api-on-controller-level-but-the-interface-doesnt-show-on-the-p
ï¼‰

é…ç½®Application:

```
package com.sun.wxsell;

import com.github.xiaoymin.swaggerbootstrapui.annotations.EnableSwaggerBootstrapUI;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import springfox.documentation.swagger2.annotations.EnableSwagger2;

@SpringBootApplication
@EnableSwagger2
@EnableSwaggerBootstrapUI
public class WxSellApplication {

    public static void main(String[] args) {
        SpringApplication.run(WxSellApplication.class, args);
    }

}
```

æœ€åä¸€æ­¥å°±æ˜¯åœ¨controllerä¸­ä½¿ç”¨äº†ï¼š

```
package com.sun.wxsell.controller;

import com.sun.wxsell.converter.OrderForm2OrderDTOConverter;
import com.sun.wxsell.dto.OrderDto;
import com.sun.wxsell.enums.ResultEnum;
import com.sun.wxsell.exception.SellException;
import com.sun.wxsell.form.OrderForm;
import com.sun.wxsell.service.BuyerService;
import com.sun.wxsell.service.OrderService;
import com.sun.wxsell.util.ResultVoUtil;
import com.sun.wxsell.vo.ResultVO;
import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import lombok.extern.slf4j.Slf4j;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.PageRequest;
import org.springframework.util.CollectionUtils;
import org.springframework.util.StringUtils;
import org.springframework.validation.BindingResult;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import javax.validation.Valid;
import java.util.HashMap;
import java.util.Map;

/**
 * è®¢å•
 *
 * @author: syl
 * @date: 2019/5/3 16:30
 **/
@Slf4j
@RestController
@Api(value = "ä¹°å®¶è®¢å•æ§åˆ¶å™¨", tags = "ä¹°å®¶è®¢å•æ§åˆ¶å™¨")
@RequestMapping("/buyer/order")
public class BuyerOrderController {

    @Autowired
    private OrderService orderService;

    @Autowired
    private BuyerService buyerService;


    /**
     * åˆ›å»ºè®¢å•
     *
     * @author sun
     * @date 2019/5/8
     */
    @ApiOperation(value = "åˆ›å»ºè®¢å•", notes = "è¯·åˆ›å»ºè®¢å•", tags = "è®¢å•ç›¸å…³æ¥å£")
    @RequestMapping(value = "/create", method = RequestMethod.POST)
    public ResultVO create(@Valid OrderForm orderForm, BindingResult bindingResult) {
        if (bindingResult.hasErrors()) {
            log.error("ã€åˆ›å»ºè®¢å•ã€‘å‚æ•°ä¸æ­£ç¡®ï¼ŒorderForm={}", orderForm);
            throw new SellException(ResultEnum.PARAM_ERROR.getCode(), bindingResult.getFieldError().getDefaultMessage());
        }

        // å°†OrderFormè½¬æˆOrderDto
        OrderDto orderDto = OrderForm2OrderDTOConverter.convert(orderForm);
        if (CollectionUtils.isEmpty(orderDto.getOrderDetailList())) {
            log.error("ã€åˆ›å»ºè®¢å•ã€‘è´­ç‰©è½¦ä¸èƒ½ä¸ºç©º");
            throw new SellException(ResultEnum.CART_EMPTY);
        }

        OrderDto createResult = orderService.create(orderDto);
        Map<String, String> resultMap = new HashMap<>();
        resultMap.put("orderId", createResult.getOrderId());

        return ResultVoUtil.success(resultMap);
    }


    /**
     * è®¢å•åˆ—è¡¨
     *
     * @author sun
     * @date 2019/5/8
     */
    @ApiOperation(value = "æŸ¥è¯¢è®¢å•åˆ—è¡¨", notes = "æŸ¥è¯¢è®¢å•åˆ—è¡¨", tags = "è®¢å•ç›¸å…³æ¥å£")
    @RequestMapping(value = "/list", method = RequestMethod.POST)
    public ResultVO list(@RequestParam("openid") String openid,
                         @RequestParam(value = "page", defaultValue = "0") Integer page,
                         @RequestParam(value = "size", defaultValue = "10") Integer size) {
        if (StringUtils.isEmpty(openid)) {
            log.error("ã€æŸ¥è¯¢è®¢å•åˆ—è¡¨ã€‘openidä¸ºç©º");
            throw new SellException(ResultEnum.PARAM_ERROR);
        }

        PageRequest request = new PageRequest(page, size);
        Page<OrderDto> orderDtoPage = orderService.findList(openid, request);
        return ResultVoUtil.success(orderDtoPage);
    }

    /**
     * è®¢å•è¯¦æƒ…
     *
     * @author sun
     * @date 2019/5/8
     */
    @ApiOperation(value = "æŸ¥è¯¢è®¢å•è¯¦æƒ…", notes = "æŸ¥è¯¢è®¢å•è¯¦æƒ…", tags = "è®¢å•ç›¸å…³æ¥å£")
    @RequestMapping(value = "/detail", method = RequestMethod.GET)
    public ResultVO detail(@RequestParam("openid") String openid, @RequestParam("orderId") String orderId) {
        if (StringUtils.isEmpty(openid) || StringUtils.isEmpty(orderId)) {
            log.error("ã€æŸ¥è¯¢è®¢å•è¯¦æƒ…ã€‘openidæˆ–orderIdä¸ºç©º");
            throw new SellException(ResultEnum.PARAM_ERROR);
        }
        OrderDto orderDto = buyerService.findOrderOne(openid, orderId);
        return ResultVoUtil.success(orderDto);
    }


    /**
     * å–æ¶ˆè®¢å•
     *
     * @author sun
     * @date 2019/5/8
     */
    @ApiOperation(value = "å–æ¶ˆè®¢å•", notes = "å–æ¶ˆè®¢å•", tags = "è®¢å•ç›¸å…³æ¥å£")
    @RequestMapping(value = "/cancel", method = RequestMethod.POST)
    public ResultVO cancel(@RequestParam("openid") String openid, @RequestParam("orderId") String orderId) {
        if (StringUtils.isEmpty(openid) || StringUtils.isEmpty(orderId)) {
            log.error("ã€å–æ¶ˆè®¢å•ã€‘openidæˆ–orderIdä¸ºç©º");
            throw new SellException(ResultEnum.PARAM_ERROR);
        }
        buyerService.cancelOrder(openid, orderId);
        return ResultVoUtil.success();
    }
}

```

æ•ˆæœå›¾ï¼š

![a.png](https://i.loli.net/2019/08/12/XtGiNZ5LolaCzFB.png)

![b.png](https://i.loli.net/2019/08/12/FS94YjgEQeNrWP1.png)

![c.png](https://i.loli.net/2019/08/12/VpajbJMfoUmDwHO.png)